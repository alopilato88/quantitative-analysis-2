<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.550">

  <title>Quantitative Analysis 2 - Advanced Uses of LMER Models</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="styles-lecture-slides.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Advanced Uses of LMER Models</h1>
  <p class="subtitle">Contextual Effects, Random Slopes, Cross-level Interactions, &amp; More</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="overview-for-today" class="slide level2">
<h2>Overview for Today</h2>
<p>Today we will be learning about:</p>
<ul>
<li>Between vs Within Group Effects, Centering decisions, &amp; Contextual Effects</li>
<li>Random Slopes &amp; Cross-level interactions</li>
<li>Growth models</li>
</ul>
</section>
<section id="what-are-between-group-effects-what-are-within-group-effects" class="slide level2">
<h2>What are Between Group Effects? What Are Within Group Effects?</h2>
<p>A level one predictor can have effects at two different levels:</p>
<ul>
<li><strong>Within group effect</strong> (level 1) is the effect of a predictor variable on an outcome variable within a given group.</li>
<li><strong>Between group effect</strong> (level 2) is the effect of a group mean of a predictor on the group mean of an outcome variable.</li>
</ul>
<p>Do you think these two effects can differ? Any examples?</p>
</section>
<section id="the-total-effect-of-a-predictor-on-an-outcome" class="slide level2">
<h2>The Total Effect of a Predictor on an Outcome</h2>

<img data-src="07-lecture-slides_files/figure-revealjs/unnamed-chunk-3-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="between-group-and-within-group-effects" class="slide level2">
<h2>Between Group and Within Group Effects</h2>

<img data-src="07-lecture-slides_files/figure-revealjs/unnamed-chunk-4-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="the-between-group-and-within-group-effects" class="slide level2">
<h2>The Between Group and Within Group Effects</h2>
<p>The total effect a predictor has on an outcome is a blend of within and between group effects, so the total effect will be somewhere between the within group effect and the between group effect:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Total Effect</th>
<th style="text-align: right;">Within Group Effect</th>
<th style="text-align: right;">Between Group Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">-0.14</td>
<td style="text-align: right;">1.05</td>
<td style="text-align: right;">-0.23</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="disentangling-within-from-between-group-effects" class="slide level2">
<h2>Disentangling Within from Between Group Effects</h2>
<p>Using an LMER model, we can separate within from between group effects in two different ways:</p>
<ol type="1">
<li>Include both the level 1 predictor and its group mean in an LMER model.</li>
<li>Group mean center the level 1 predictor and include both the group mean centered predictor and the group mean in an LMER model.</li>
</ol>
<p>These two approaches lead to the same statistical model (i.e.&nbsp;these two models cannot be distinguished statistically), but to different interpretations of the model effects.</p>
</section>
<section id="learning-how-to-group-mean-center" class="slide level2">
<h2>Learning How to Group Mean Center</h2>
<p>To group mean center a level 1 predictor variable (de-mean) you need to do the following:</p>
<ol type="1">
<li>For each group, calculate the mean of the predictor variable.</li>
<li>For each group, subtract the group mean from the predictor variable.</li>
<li>Save both the group mean centered predictor variable and the group mean.</li>
</ol>
</section>
<section id="learning-how-to-group-mean-center-1" class="slide level2">
<h2>Learning How to Group Mean Center</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a>data_center <span class="ot">&lt;-</span> </span>
<span id="cb1-2"><a></a>  data_center <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(group) <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb1-5"><a></a>    <span class="at">x_group_mean =</span> <span class="fu">mean</span>(x),</span>
<span id="cb1-6"><a></a>    <span class="at">x_grp_cent =</span> x <span class="sc">-</span> x_group_mean</span>
<span id="cb1-7"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 5
# Groups:   group [5]
        y      x group x_group_mean x_grp_cent
    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;        &lt;dbl&gt;      &lt;dbl&gt;
 1  1.16   0.932     1        0.781     0.151 
 2 -1.02   0.671     1        0.781    -0.111 
 3  1.55   0.385     1        0.781    -0.396 
 4  2.56   2.16      1        0.781     1.37  
 5  1.06  -0.237     1        0.781    -1.02  
 6  0.372  6.87      2        6.01      0.861 
 7  0.283  5.57      2        6.01     -0.447 
 8  1.90   6.54      2        6.01      0.529 
 9 -0.639  6.10      2        6.01      0.0880
10 -1.33   4.98      2        6.01     -1.03  
# ℹ 15 more rows</code></pre>
</div>
</div>
</section>
<section id="contextual-effects-model" class="slide level2">
<h2>Contextual Effects Model</h2>
<p>If we want to answer the question: “Is the within-group effect of a predictor on an outcome equal to the between-group effect?” we can estimate a contextual effects model, which is an LMER model that includes two focal predictors:</p>
<ul>
<li>The level 1 predictor of interest</li>
<li>The group means of the level 1 predictor of interest</li>
</ul>
</section>
<section id="contextual-effects-of-leader-inclusive-behavior-on-psychological-safety" class="slide level2">
<h2>Contextual Effects of Leader Inclusive Behavior on Psychological Safety</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_inc_lead <span class="sc">+</span> x_inc_lead_gpm <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> team_id), </span>
<span id="cb3-2"><a></a>               <span class="at">data =</span> data_ps)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The coefficient for <code>x_inc_lead_gpm</code> tells us two things:</p>
<ol type="1">
<li>The value of the estimate gives us: Between Group Effect - Within Group Effect</li>
<li>If it is significant, then it tells us that the between and within group effects are significantly different.</li>
</ol>
</section>
<section id="interpreting-contextual-effects" class="slide level2">
<h2>Interpreting Contextual Effects</h2>
<p>An employee with a given measure of their leader’s perceived inclusive behaviors will, on average, report higher psychological safety if they are apart of a team with higher than average perceptions of leader inclusive behaviors. That is, the contextual effect of perceived inclusive leader behaviors provides an additional contribution over and above the effect of individual perceptions of inclusive leader behavior.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: y_psych_safe ~ x_inc_lead + x_inc_lead_gpm + (1 | team_id)
   Data: data_ps

REML criterion at convergence: 3002.3

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.6413 -0.6987  0.0248  0.6445  3.3191 

Random effects:
 Groups   Name        Variance Std.Dev.
 team_id  (Intercept) 0.07332  0.2708  
 Residual             2.40762  1.5517  
Number of obs: 800, groups:  team_id, 80

Fixed effects:
                Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)      2.67993    0.48842  78.00000   5.487 4.90e-07 ***
x_inc_lead       0.16824    0.05632 718.99999   2.987  0.00291 ** 
x_inc_lead_gpm   0.68534    0.09923 165.70818   6.907 1.01e-10 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="within-between-group-effects-model" class="slide level2">
<h2>Within &amp; Between Group Effects Model</h2>
<p>If you are want to directly model the within and between group effects of a predictor, then you can include the group mean centered level 1 predictor and its group mean in an LMER model.</p>
<p>This allows you to model and test the effects at two different levels, but it does not directly test the difference between the within and between group effects.</p>
</section>
<section id="withing-between-group-effects-of-inclusive-leader-behaviors" class="slide level2">
<h2>Withing &amp; Between Group Effects of Inclusive Leader Behaviors</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a>lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_inc_lead_gpc <span class="sc">+</span> x_incl_lead_gpm <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> team_id),</span>
<span id="cb5-2"><a></a>               <span class="at">data =</span> data_ps)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The coefficient of <code>x_inc_lead_gpm</code> (group mean of inclusive leader behavior) tells us how the group mean of a team’s perceptions of their leaders inclusive behaviors is related to the team’s average perceptions of psychological safety.</p>
</section>
<section id="withing-between-group-effects-of-inclusive-leader-behaviors-1" class="slide level2">
<h2>Withing &amp; Between Group Effects of Inclusive Leader Behaviors</h2>
<p>Notice that the estimate of <code>x_inc_lead_gpm</code> minus the estimate of <code>x_inc_lead_gpc</code> is equal to the contextual effect we estimated earlier.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: y_psych_safe ~ x_inc_lead_gpc + x_inc_lead_gpm + (1 | team_id)
   Data: data_ps

REML criterion at convergence: 3002.3

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.6413 -0.6987  0.0248  0.6445  3.3191 

Random effects:
 Groups   Name        Variance Std.Dev.
 team_id  (Intercept) 0.07332  0.2708  
 Residual             2.40762  1.5517  
Number of obs: 800, groups:  team_id, 80

Fixed effects:
                Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)      2.67993    0.48842  78.00000   5.487  4.9e-07 ***
x_inc_lead_gpc   0.16824    0.05632 718.99999   2.987  0.00291 ** 
x_inc_lead_gpm   0.85358    0.08170  78.00000  10.448  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="which-effect-should-you-model" class="slide level2">
<h2>Which Effect Should You Model?</h2>
<p>The choice between estimating the contextual effect of a predictor versus the between group effect is a substantive question. The contextual and between group models are statistically identical, so you will have to decide which questions are more interesting given the research you are conducting.</p>
</section>
<section id="expanding-our-psychological-safety-example" class="slide level2">
<h2>Expanding our Psychological Safety Example</h2>
<p>In addition to perceptions of inclusive leadership behavior, you have also measured the learning orientation of each employee and their team leader.</p>
<p>You believe that an employee’s learning orientation will be related to their perceptions of psychological safety, but you think this relationship might differ by group. How would you model this?</p>
</section>
<section id="adding-random-slopes-to-your-lmer-model" class="slide level2">
<h2>Adding Random Slopes to Your LMER Model</h2>
<p>LMER models allow allow the slopes of level 1 predictors to vary by group:</p>
<p><span class="math display">\[\text{Level 1:} \space Y_{ij} = \beta_{0j} + \beta_{1j}X_{1ij}+ r_{ij}\]</span> <span class="math display">\[\text{Level 2:} \space \beta_{0j} = \gamma_{00} + u_{0j}\]</span> <span class="math display">\[\text{Level 2:} \space \beta_{1j} = \gamma_{10} + u_{1j}\]</span></p>
</section>
<section id="modeling-random-slopes" class="slide level2">
<h2>Modeling Random Slopes</h2>
<p>To add a random slope to our model, we can use the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a>lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_learn_ort <span class="sc">+</span> (x_learn_ort <span class="sc">|</span> team_id), </span>
<span id="cb7-2"><a></a>               <span class="at">data =</span> data_ps)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-sources-of-random-intercept-and-slope-variation" class="slide level2">
<h2>The Sources of Random Intercept and Slope Variation</h2>
<p>The sources of intercept and slope variation are <span class="math inline">\(u_{oj}\)</span> and <span class="math inline">\(u_{1j}\)</span>, which you can think of as level 2 residuals.</p>
<p>These residuals are assumed to be distributed normally with a mean of 0 and variances, <span class="math inline">\(\tau_{00}\)</span> and <span class="math inline">\(\tau_{11}\)</span>. Additionally, these level two residuals are allowed to covary with one another, <span class="math inline">\(\tau_{01}\)</span>.</p>
<p>It is these sources of variation (variance components) that we want to explain with level 2 predictors.</p>
</section>
<section id="interpreting-the-results-of-our-random-slope-model" class="slide level2">
<h2>Interpreting the Results of Our Random Slope Model</h2>
<p>When estimating a model slopes model, you will want to focus on the following things:</p>
<ol type="1">
<li>The magnitude and significance of the level predictor.</li>
<li>The random slope variance.</li>
<li>The random intercept variance and its correlation with the random slope variance.</li>
</ol>
</section>
<section id="interpreting-the-results-of-our-random-slope-model-1" class="slide level2">
<h2>Interpreting the Results of Our Random Slope Model</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: y_psych_safe ~ x_learn_ort + (x_learn_ort | team_id)
   Data: data_ps

REML criterion at convergence: 2492.3

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.8567 -0.5690  0.0148  0.6337  3.2053 

Random effects:
 Groups   Name        Variance Std.Dev. Corr 
 team_id  (Intercept) 0.5270   0.7260        
          x_learn_ort 0.1248   0.3533   -0.11
 Residual             1.0100   1.0050        
Number of obs: 800, groups:  team_id, 80

Fixed effects:
            Estimate Std. Error       df t value Pr(&gt;|t|)    
(Intercept)  7.73591    0.08897 78.83364   86.94   &lt;2e-16 ***
x_learn_ort  1.05679    0.05433 65.90813   19.45   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="interpreting-the-random-slope-variance" class="slide level2">
<h2>Interpreting the Random Slope Variance</h2>

<img data-src="07-lecture-slides_files/figure-revealjs/unnamed-chunk-18-1.png" width="960" class="r-stretch"></section>
<section id="explaining-variation-in-random-slope" class="slide level2">
<h2>Explaining Variation in Random Slope</h2>
<p>We can use level 2 predictors to explain variance in our random slopes:</p>
<p><span class="math display">\[\text{Level 1:} \space Y_{ij} = \beta_{0j} + \beta_{1j}X_{1j}+ r_{ij}\]</span> <span class="math display">\[\text{Level 2:} \space \beta_{0j} = \gamma_{00} + \gamma_{01}X_{2j} + u_{0j}\]</span> <span class="math display">\[\text{Level 2:} \space \beta_{1j} = \gamma_{10} + \gamma_{11}X_{2j} + u_{1j}\]</span></p>
</section>
<section id="explaining-variation-in-random-slope-1" class="slide level2">
<h2>Explaining Variation in Random Slope</h2>
<p>We can write out the full model as:</p>
<p><span class="math display">\[Y_{ij} = \gamma_{00} + \gamma_{10}X_{1ij} + \gamma_{01}X_{2j} + \gamma_{11}X_{1ij}X_{2j} + u_{oj} + u_{1j}X_{1ij} + r_{ij}\]</span></p>
</section>
<section id="cross-level-interactions-as-explanations-for-slope-variation" class="slide level2">
<h2>Cross-Level Interactions as Explanations for Slope Variation</h2>
<p>When we include a predictor for the random slopes, we are actually building a cross-level interaction: an interaction between variables at two different levels.</p>
<p>We are arguing that the relationship between the level 1 predictor and the outcome differ because of some level 2 variable.</p>
<p>Additionally, we will also want to include the main effect of the level 2 predictor, which means it will be used as an explanation of the slope variance as well.</p>
</section>
<section id="leader-learning-orientation-as-a-cross-level-interaction" class="slide level2">
<h2>Leader Learning Orientation as a Cross-Level Interaction</h2>
<p>We saw that the relationship between employee learning orientation and psychological safety differs by team. Our hypothesis is that this is due to the moderating effect of their leader’s learning orientation (a cross-level interaction):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_learn_ort <span class="sc">*</span> x_lead_learn_ort <span class="sc">+</span> (x_learn_ort <span class="sc">|</span> team_id),</span>
<span id="cb9-2"><a></a>               <span class="at">data =</span> data_ps)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="centering-decisions-with-cross-level-interactions" class="slide level2">
<h2>Centering Decisions with Cross-Level Interactions</h2>
<p>When modeling interactions that include level 1 predictors, we will generally want to group mean center the level 1 predictors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>data_ps <span class="ot">&lt;-</span> </span>
<span id="cb10-2"><a></a>  data_ps <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(</span>
<span id="cb10-4"><a></a>    team_id</span>
<span id="cb10-5"><a></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-6"><a></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb10-7"><a></a>    <span class="at">x_learn_ort_gpm =</span> <span class="fu">mean</span>(x_learn_ort),</span>
<span id="cb10-8"><a></a>    <span class="at">x_learn_ort_gpc =</span> x_learn_ort <span class="sc">-</span> x_learn_ort_gpm</span>
<span id="cb10-9"><a></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-10"><a></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="leader-learning-orientation-as-a-cross-level-interaction-1" class="slide level2">
<h2>Leader Learning Orientation as a Cross-Level Interaction</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a>lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_learn_ort_gpc <span class="sc">*</span> x_lead_learn_ort <span class="sc">+</span> (x_learn_ort_gpc <span class="sc">|</span> team_id),</span>
<span id="cb11-2"><a></a>               <span class="at">data =</span> data_ps)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="building-your-lmer-model" class="slide level2">
<h2>Building Your LMER Model</h2>
<p>Building a LMER model is a mixture of art and science (surprise!). You can consider building up the model from level 1:</p>
<ol type="1">
<li>Add all focal level 1 predictor variables (and controls) and their level 1 interactions.</li>
<li>Decide which predictor variables should have random slopes (requires subject matter expertise).</li>
<li>Use a series of deviance tests to determine which random slopes to keep.</li>
<li>Check the significance of your effects after removing random slopes.</li>
<li>Build the level 2 model.</li>
<li>Check significance of all effects.</li>
</ol>
</section>
<section id="building-your-lmer-model-1" class="slide level2">
<h2>Building Your LMER Model</h2>
<p>First, we build and test our level 1 model:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>mod_null <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>team_id), data_ps)</span>
<span id="cb12-2"><a></a>mod_1 <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_inc_lead <span class="sc">+</span> x_learn_ort_gpc <span class="sc">+</span> (x_inc_lead <span class="sc">+</span> x_learn_ort_gpc <span class="sc">|</span> team_id), data_ps)</span>
<span id="cb12-3"><a></a>mod_2a <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_inc_lead <span class="sc">+</span> x_learn_ort_gpc <span class="sc">+</span> (x_learn_ort_gpc <span class="sc">|</span> team_id), data_ps)</span>
<span id="cb12-4"><a></a>mod_2b <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_inc_lead <span class="sc">+</span> x_learn_ort_gpc <span class="sc">+</span> (x_inc_lead <span class="sc">|</span> team_id), data_ps)</span>
<span id="cb12-5"><a></a></span>
<span id="cb12-6"><a></a><span class="fu">anova</span>(mod_1, mod_null)</span>
<span id="cb12-7"><a></a><span class="fu">anova</span>(mod_1, mod_2a)</span>
<span id="cb12-8"><a></a><span class="fu">anova</span>(mod_1, mod_2b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="building-your-lmer-model-2" class="slide level2">
<h2>Building Your LMER Model</h2>
<p>Next, we build and test our level 2 model:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>mod_3 <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_psych_safe <span class="sc">~</span> x_inc_lead <span class="sc">+</span> x_inc_lead_gpm <span class="sc">+</span> x_learn_ort_gpc<span class="sc">*</span>x_lead_learn_ort <span class="sc">+</span> (x_learn_ort_gpc <span class="sc">|</span> team_id), data_ps)</span>
<span id="cb13-2"><a></a></span>
<span id="cb13-3"><a></a><span class="fu">anova</span>(mod_2a, mod_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="rules-of-thumb-for-centering" class="slide level2">
<h2>Rules of Thumb for Centering</h2>
<ul>
<li>If you are looking at between group effects (level 2), then you can use grand mean centering.</li>
<li>If you are looking at level 1 effects and their interactions, then you should consider group mean centering.</li>
<li>If you are interested in questions of equivalence across within and between group effects then do not center the level 1 predictor or use grand mean centering.</li>
</ul>
</section>
<section id="advanced-applications-of-lmer-models-growth-models" class="slide level2">
<h2>Advanced Applications of LMER Models: Growth Models</h2>
<p>If you are interested in questions about change like how does someone’s health change as they age or what happens to population over time, then you will likely have a data structure where you have repeated measurements nested within a level 2 unit:</p>
<ul>
<li>Change in job satisfaction</li>
<li>Change in performance</li>
<li>Change in subjective well being</li>
</ul>
<p>Really anytime you are interested in how something changes across time, you can generally model it with an LMER model.</p>
</section>
<section id="our-growth-model-example" class="slide level2">
<h2>Our Growth Model Example</h2>
<p>We are interested in how weekly exercise habits impact the health of individuals in a study who are all around the age of 50.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,200 × 7
   person  time time_0 x_sex x_exr x_exr_gpm y_health
    &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
 1      1     1      0     0  2.83      1.99     4.76
 2      1     2      1     0  0.8       1.99     4.71
 3      1     3      2     0  2.47      1.99     5.49
 4      1     4      3     0  1.94      1.99     5.37
 5      1     5      4     0  2.39      1.99     5.57
 6      1     6      5     0  3.65      1.99     5.89
 7      1     7      6     0  2.57      1.99     5.85
 8      1     8      7     0  1.9       1.99     5.63
 9      1     9      8     0  3.3       1.99     6.04
10      1    10      9     0  0.7       1.99     6.15
# ℹ 3,190 more rows</code></pre>
</div>
</div>
</section>
<section id="modeling-within-and-between-individual-growth" class="slide level2">
<h2>Modeling Within and Between Individual Growth</h2>
<p>Everything we have learned about LMER models applies to the growth modeling context:</p>
<ol type="1">
<li>Within-person (or within unit) variables are considered level 1 and they will vary within the unit.</li>
<li>Between-unit variables are invariant across time (they don’t change!).</li>
<li>You can build cross-level interactions just as we have discussed.</li>
</ol>
<p>BUT we can also include <strong>time</strong> as a predictor to capture how people change.</p>
</section>
<section id="using-time-as-a-predictor-to-model-change" class="slide level2">
<h2>Using Time as a Predictor to Model Change</h2>
<p>You will usually want to create a time variable that counts up from 0 (first point of measurement) by increments of 1 until the final measurement period. Then this variable can be used as a level 1 predictor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_health <span class="sc">~</span> time_0 <span class="sc">+</span> (time_0 <span class="sc">|</span> person),</span>
<span id="cb15-2"><a></a>               <span class="at">data =</span> data_growth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the model above, the coefficient associated with <code>time_0</code> can be interpreted as the average amount of linear growth (or decay) participants in the study experience.</p>
</section>
<section id="using-time-as-a-predictor-to-model-change-1" class="slide level2">
<h2>Using Time as a Predictor to Model Change</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: y_health ~ time_0 + (time_0 | person)
   Data: data_growth

REML criterion at convergence: 788.8

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.2903 -0.6455 -0.0175  0.6341  3.1670 

Random effects:
 Groups   Name        Variance Std.Dev. Corr
 person   (Intercept) 0.05750  0.2398       
          time_0      0.02909  0.1706   0.01
 Residual             0.04350  0.2086       
Number of obs: 3200, groups:  person, 200

Fixed effects:
             Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)   4.69159    0.01836 199.00009  255.55   &lt;2e-16 ***
time_0        0.17445    0.01209 199.00060   14.43   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="adding-time-invariant-level-2-predictors" class="slide level2">
<h2>Adding Time Invariant (Level 2) Predictors</h2>
<p>We can model between-unit variance with between-unit predictors like the average amount of exercise a person reported doing over the study (<code>x_exr_gpm</code>) and the person’s sex (<code>_sex</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_health <span class="sc">~</span> time_0 <span class="sc">+</span> x_exr <span class="sc">+</span> x_exr_gpm <span class="sc">+</span> x_sex <span class="sc">+</span> (time_0 <span class="sc">|</span> person),</span>
<span id="cb17-2"><a></a>               <span class="at">data =</span> data_growth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These predictors are called time invariant because they do not change within an individual (level 2 unit).</p>
</section>
<section id="adding-a-cross-level-interaction" class="slide level2">
<h2>Adding a Cross-Level Interaction</h2>
<p>We can also test for cross-level interactions to explain variance in the random slopes. Perhaps the average amount of exercise a person reported interacts with time in a way that increases the amount of positive change experienced by that individual: <code>time_0 * x_exr_gpm</code>.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerModLmerTest']
Formula: y_health ~ time_0 * x_exr_gpm + x_exr + x_sex + (time_0 | person)
   Data: data_growth
REML criterion at convergence: 612.3679
Random effects:
 Groups   Name        Std.Dev. Corr 
 person   (Intercept) 0.1861        
          time_0      0.1388   -0.23
 Residual             0.2076        
Number of obs: 3200, groups:  person, 200
Fixed Effects:
     (Intercept)            time_0         x_exr_gpm             x_exr  
         4.57482          -0.17581           0.03592           0.02557  
           x_sex  time_0:x_exr_gpm  
        -0.27424           0.09123  </code></pre>
</div>
</div>
</section>
<section id="building-our-growth-model-within-person" class="slide level2">
<h2>Building Our Growth Model: Within-Person</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a>mod_null <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_health <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> person), data_growth)</span>
<span id="cb19-2"><a></a>mod_within <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_health <span class="sc">~</span> time_0 <span class="sc">+</span> x_exr <span class="sc">+</span> (time_0 <span class="sc">+</span> x_exr <span class="sc">|</span> person), data_growth)</span>
<span id="cb19-3"><a></a>mod_within_1 <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_health <span class="sc">~</span> time_0 <span class="sc">+</span> x_exr <span class="sc">+</span> (time_0 <span class="sc">|</span> person), data_growth)</span>
<span id="cb19-4"><a></a>mod_within_2 <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_health <span class="sc">~</span> time_0 <span class="sc">+</span> x_exr <span class="sc">+</span> (x_exr <span class="sc">|</span> person), data_growth)</span>
<span id="cb19-5"><a></a></span>
<span id="cb19-6"><a></a><span class="fu">anova</span>(mod_null, mod_within)</span>
<span id="cb19-7"><a></a><span class="fu">anova</span>(mod_within, mod_within_1)</span>
<span id="cb19-8"><a></a><span class="fu">anova</span>(mod_within, mod_within_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="building-our-growth-model-between-person" class="slide level2">
<h2>Building Our Growth Model: Between-Person</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>mod_between <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(y_health <span class="sc">~</span> time_0 <span class="sc">*</span> x_exr_gpm <span class="sc">+</span> x_sex <span class="sc">+</span> (time_0 <span class="sc">|</span> person), data_growth)</span>
<span id="cb20-2"><a></a></span>
<span id="cb20-3"><a></a><span class="fu">anova</span>(mod_within_1, mod_between)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="interpreting-our-final-model" class="slide level2">
<h2>Interpreting our Final Model</h2>
<ol type="1">
<li>Interpret the effects of the predictor: Magnitude &amp; Significance.</li>
<li>Examine how much the level 1 and level 2 variance components have changed from the null model.</li>
<li>Examine the correlation between random intercept and slope components</li>
</ol>
</section>
<section id="interpreting-our-final-model-1" class="slide level2">
<h2>Interpreting our Final Model</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: y_health ~ time_0 * x_exr_gpm + x_sex + (time_0 | person)
   Data: data_growth

REML criterion at convergence: 625.3

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.2966 -0.6349 -0.0111  0.6395  3.3508 

Random effects:
 Groups   Name        Variance Std.Dev. Corr 
 person   (Intercept) 0.03432  0.1853        
          time_0      0.01924  0.1387   -0.23
 Residual             0.04345  0.2084        
Number of obs: 3200, groups:  person, 200

Fixed effects:
                  Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)        4.57453    0.05556 198.90947  82.337  &lt; 2e-16 ***
time_0            -0.17578    0.03597 197.99637  -4.886 2.12e-06 ***
x_exr_gpm          0.06146    0.01362 197.17936   4.514 1.09e-05 ***
x_sex             -0.27418    0.02818 220.74592  -9.730  &lt; 2e-16 ***
time_0:x_exr_gpm   0.09123    0.00901 197.99617  10.126  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>

<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>